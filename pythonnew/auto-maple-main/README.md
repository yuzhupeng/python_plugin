Auto Maple是一个智能的Python机器人，可以使用模拟按键、TensorFlow机器学习、OpenCV模板匹配和其他计算机视觉技术来玩《冒险岛》（MapleStory），这是一个2D横向卷轴多人在线角色扮演游戏。

社区创建的资源，比如每个职业的指令手册（command books）和每张地图的日常任务（routines），可以在资源库中找到。

小地图

Auto Maple使用OpenCV模板匹配来确定小地图的边界以及其中的各种元素，从而准确追踪玩家在游戏中的位置。如果将record_layout设置为True，Auto Maple将记录玩家之前的位置在一个基于四叉树的布局对象中，并定期将其保存到“layouts”目录中的一个文件中。每次加载新的日常任务时，如果存在相应的布局文件，它也将被加载。该布局对象使用A*搜索算法在存储的点上计算从玩家到任何目标位置的最短路径，这可以显着提高日常任务执行的准确性和速度。

上面的视频展示了Auto Maple稳定执行高级技巧组合的能力。

设计时考虑到可模块化，只要提供了一个包含游戏内动作列表或“指令手册”的命令，Auto Maple就可以操作游戏中的任何角色。指令手册是一个包含多个类的Python文件，每个类对应一个游戏内的能力，它告诉程序应该按下哪些键以及何时按下。一旦导入了一个指令手册，它的类会自动编译成一个字典，然后Auto Maple可以使用该字典来解释日常任务中的指令。指令可以访问所有Auto Maple的全局变量，这使它们能够根据玩家的位置和游戏状态主动改变行为。

日常任务

日常任务是用户创建的CSV文件，告诉Auto Maple在每个位置上移动并使用什么指令。Auto Maple内部有一个自定义的编译器，可以解析所选日常任务并将其转换为程序可以执行的“组件”对象的列表。对于每一行包含无效参数的情况，会打印错误信息，并在转换过程中忽略这些行。

以下是最常用的日常任务组件的摘要：

Point存储在它下方的指令，并在角色到达指定位置的move_tolerance范围内按照顺序执行它们。还有几个可选的关键字参数：

adjust微调角色的位置，使其在执行任何指令之前在adjust_tolerance范围内接近目标位置。
frequency告诉Point执行的频率。如果设置为N，该Point将每N个迭代执行一次。
skip告诉Point是否在第一次迭代时运行。如果设置为True，并且频率为N，则该Point将在第N-1个迭代时运行。
Label充当参考点，可以帮助组织日常任务并创建循环结构。

Jump可以从日常任务的任意位置跳转到指定的标签。

Setting将指定的设置更新为给定的值。它可以放置在日常任务的任何位置，因此同一个日常任务的不同部分可以具有不同的设置。所有可编辑的设置可以在settings.py的底部找到。

符文

Auto Maple具有自动解决游戏中的“符文”（或箭头按键谜题）的能力。它首先使用OpenCV的颜色过滤和Canny边缘检测算法来隔离箭头按键并尽可能减少背景噪声。然后，它使用经过预处理的帧在自定义训练的TensorFlow模型上运行多次推断，直到两个推断一致。由于这种预处理，Auto Maple在各种（通常是色彩丰富和混乱的）环境中解决符文非常准确。

视频演示

点击以下链接观看完整视频：

完整视频
安装设置

下载并安装Python3。
下载并安装最新版本的CUDA Toolkit。
下载并安装Git。
下载并解压缩最新的Auto Maple发布版。
下载TensorFlow模型并将"models"文件夹解压缩到Auto Maple的"assets"目录中。
在Auto Maple的主目录下，打开命令提示符并运行命令：python -m pip install -r requirements.txt。
最后，通过运行命令python setup.py创建一个桌面快捷方式。该快捷方式使用了绝对路径，所以你可以随意将其移动到任何位置。但是，如果你移动了Auto Maple的主目录，你需要再次运行python setup.py来生成一个新的快捷方式。为了在Auto Maple关闭后保持命令提示符打开，使用--stay标志运行上述命令。